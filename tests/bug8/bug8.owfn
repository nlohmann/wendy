PLACE
  INTERNAL p1, p3, p4, p7, p10, p12, p13, p14, p17, counter;
  INPUT
    ELHO,
    NOOP,
    HELO,
    QUIT,
    MAIL,
    DATA;

  OUTPUT
    m250,
    m211,
    m221;

INITIALMARKING
  p1, counter: 1;

FINALCONDITION
  (p13 = 1 AND ALL_OTHER_PLACES_EMPTY);

TRANSITION t3
CONSUME p1, ELHO;
PRODUCE p3;

TRANSITION t5
CONSUME p3, ELHO;
PRODUCE p4;

TRANSITION t6
CONSUME p4;
PRODUCE p7, m250;

TRANSITION t10
CONSUME p7, ELHO;
PRODUCE p10;

TRANSITION t14
CONSUME p10;
PRODUCE p3, m250;

TRANSITION t17
CONSUME p1, QUIT;
PRODUCE p12;

TRANSITION t18
CONSUME p3, QUIT;
PRODUCE p12;

TRANSITION t16
CONSUME p12;
PRODUCE p13, m250;

TRANSITION t22
CONSUME p1, NOOP, counter;
PRODUCE p14;

TRANSITION t23
CONSUME p14;
PRODUCE p1, m250;

TRANSITION t28
CONSUME p7, NOOP, counter;
PRODUCE p17;

TRANSITION t29
CONSUME p17;
PRODUCE p7, m250;
